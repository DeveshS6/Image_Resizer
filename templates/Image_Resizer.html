<!DOCTYPE html>
<html>
 
<head>
    <title>
        Image Resizer
    </title>
 
    <style>
        h1 {
            color:  blue;
        }
         
        body {
            text-align: center;
        }


    </style>
</head>
 
<body>
    <h1>
        Image Resizer
    </h1>
 
    <p>Upload an Image</p>

    <div class="container">
        <h1>Upload your files here</h1>
        <p>Upload only png, jpg, jpeg, gif images only.</p>
        <form action="/" method="post" enctype="multipart/form-data">
          <input type="file" name="file" onchange="return fileValidation()"  />
          <input type="submit" value="Upload">
        </form>
      </div>

  
 
        <div class="card-img p-3">
            <div class="input-group mb-3" style="max-width:450px;">
                <div class="input-group-prepend">
                    <label class="input-group-text">Mode: </label>
                </div>
                <select class="custom-select" id="mode"><option>Width</option><option>Ratio</option><option>Weight</option></select>
                <div>
                    <select class="custom-select rounded-0" id="mode_0"><option value="800">800px</option><option value="600" selected>600px</option><option value="400">400px</option></select>
                    <select class="custom-select rounded-0 d-none" id="mode_1"><option value="1">Original</option><option value="0.5" selected>1/2</option><option value="0.25">1/4</option><option value="0.125">1/8</option></select>
                    <select class="custom-select rounded-0 d-none" id="mode_2"><option value="100">100KB</option><option value="200" selected>200KB</option><option value="500">500KB</option></select>
                </div>
                <div class="input-group-append">
                    <select class="custom-select rounded-0" id="format"><option>JPG-10</option><option selected>JPG-8</option><option>JPG-6</option><option>PNG (No Compression)</option></select>
                </div>
            </div>
            <textarea class="custom-select w-100 d-none" id="img_data"></textarea>
            <div class="row mx-auto my-3 text-center" style="overflow-x:auto;">
                <img id="showImg" src="" />
            </div>
        </div>



    <div id="imagePreview"></div>
    <script>
        function fileValidation() {
            var fileInput =
                document.getElementById('file');
             
            var filePath = fileInput.value;
            
            // Allowing file type
            var allowedExtensions =
                    /(\.jpg|\.jpeg|\.png)$/i;
             
            if(fileInput.files[0].size > 2097152){
                alert("File is too big it cannot be uploaded!");
                fileInput.value = "";
                };

            if (!allowedExtensions.exec(filePath) || fileInput.files[0].size > 2097152) {
                alert('Invalid file type/size');
                fileInput.value = '';
                return false;
            }
            else
            {
             
                // Image preview
                if (fileInput.files && fileInput.files[0] && fileInput.files[0].size < 2097152 && allowedExtensions.exec(filePath)) {
                    var reader = new FileReader();
                    reader.onload = function(e) {
                        document.getElementById(
                            'imagePreview').innerHTML =
                            '<img src="' + e.target.result
                            + '"/>';
                    };
                     
                    reader.readAsDataURL(fileInput.files[0]);
                }
            }
        }
    </script>
</body>
 
</html>